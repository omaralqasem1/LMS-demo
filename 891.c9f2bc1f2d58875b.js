"use strict";(self.webpackChunkLMS_demo=self.webpackChunkLMS_demo||[]).push([[891],{6891:(ge,N,c)=>{c.r(N),c.d(N,{CategoriesModule:()=>de});var u=c(6895),m=c(7155),t=c(4650),D=c(3238),x=c(9101),G=c(4385),k=c(266),y=c(1281),b=c(7579),v=c(9549);function tt(a,o){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function et(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(n){t.CHM(e);const s=t.oxw(2);return t.KtG(s._changePageSize(n.value))}),t.YNc(2,tt,2,2,"mat-option",18),t.qZA()()}if(2&a){const e=t.oxw(2);t.Q6J("appearance",e._formFieldAppearance)("color",e.color),t.xp6(1),t.Q6J("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),t.xp6(1),t.Q6J("ngForOf",e._displayedPageSizeOptions)}}function it(a,o){if(1&a&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.pageSize)}}function at(a,o){if(1&a&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,et,3,8,"mat-form-field",14),t.YNc(4,it,2,1,"div",15),t.qZA()),2&a){const e=t.oxw();t.xp6(2),t.hij(" ",e._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",e._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function ot(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),t.uIk("aria-label",e._intl.firstPageLabel)}}function nt(a,o){if(1&a){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&a){const e=t.oxw();t.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),t.uIk("aria-label",e._intl.lastPageLabel)}}let P=(()=>{class a{constructor(){this.changes=new b.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,n)=>{if(0==n||0==i)return`0 of ${n}`;const s=e*i;return`${s+1} \u2013 ${s<(n=Math.max(n,0))?Math.min(s+i,n):s+i} of ${n}`}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const rt={provide:P,deps:[[new t.FiY,new t.tp0,P]],useFactory:function st(a){return a||new P}},ct=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),dt=(0,D.Id)((0,D.dB)(class{}));let gt=(()=>{class a extends dt{constructor(e,i,n){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:s,pageSizeOptions:r,hidePageSize:l,showFirstLastButtons:d}=n;null!=s&&(this._pageSize=s),null!=r&&(this._pageSizeOptions=r),null!=l&&(this._hidePageSize=l),null!=d&&(this._showFirstLastButtons=d)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max((0,y.su)(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=(0,y.su)(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max((0,y.su)(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>(0,y.su)(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=(0,y.Ig)(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=(0,y.Ig)(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const n=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(n)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return a.\u0275fac=function(e){t.$Z()},a.\u0275dir=t.lG2({type:a,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]}),a})(),pt=(()=>{class a extends gt{constructor(e,i,n){super(e,i,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(P),t.Y36(t.sBO),t.Y36(ct,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,at,5,3,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,ot,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return i.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return i.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,nt,3,5,"button",11),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",!i.hidePageSize),t.xp6(3),t.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),t.xp6(1),t.Q6J("ngIf",i.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),t.uIk("aria-label",i._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),t.uIk("aria-label",i._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",i.showFirstLastButtons))},dependencies:[u.sg,u.O5,x.lW,v.KE,G.gD,D.ey,k.gM],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),a})(),ht=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[rt],imports:[u.ez,x.ot,G.LD,k.AV,D.BQ]}),a})();var p=c(4006),f=c(2687),h=c(8184),z=c(3353),_=c(4080),O=c(9521),J=c(9770),ut=c(9646),U=c(445),j=c(8675);function mt(a,o){}class I{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Q=(()=>{class a extends _.en{constructor(e,i,n,s,r,l,d,C){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=r,this._ngZone=l,this._overlayRef=d,this._focusMonitor=C,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const K=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),K},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=n}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const n=(0,z.ht)(),s=this._elementRef.nativeElement;(!n||n===this._document.body||n===s||s.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,z.ht)();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,z.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.SBq),t.Y36(f.qV),t.Y36(u.K0,8),t.Y36(I),t.Y36(f.ic),t.Y36(t.R0b),t.Y36(h.Iu),t.Y36(f.tE))},a.\u0275cmp=t.Xpm({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&t.Gf(_.Pl,7),2&e){let n;t.iGM(n=t.CRH())&&(i._portalOutlet=n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&t.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&t.YNc(0,mt,0,0,"ng-template",0)},dependencies:[_.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),a})();class B{constructor(o,e){this.overlayRef=o,this.config=e,this.closed=new b.x,this.disableClose=e.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===O.hY&&!this.disableClose&&!(0,O.Vb)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(o,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(o),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",e=""){return this.overlayRef.updateSize({width:o,height:e}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}}const V=new t.OlP("DialogScrollStrategy"),ft=new t.OlP("DialogData"),_t=new t.OlP("DefaultDialogConfig"),bt={provide:V,deps:[h.aV],useFactory:function Ct(a){return()=>a.scrollStrategies.block()}};let vt=0,q=(()=>{class a{constructor(e,i,n,s,r,l){this._overlay=e,this._injector=i,this._defaultOptions=n,this._parentDialog=s,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.x,this._afterOpenedAtThisLevel=new b.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,J.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,j.O)(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new I,...i}).id=i.id||"cdk-dialog-"+vt++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),r=this._overlay.create(s),l=new B(r,i),d=this._attachContainer(r,l,i);return l.containerInstance=d,this._attachDialogContent(e,l,d,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){R(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){R(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),R(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new h.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,n){const s=n.injector||n.viewContainerRef?.injector,r=[{provide:I,useValue:n},{provide:B,useValue:i},{provide:h.Iu,useValue:e}];let l;n.container?"function"==typeof n.container?l=n.container:(l=n.container.type,r.push(...n.container.providers(n))):l=Q;const d=new _.C5(l,n.viewContainerRef,t.zs3.create({parent:s||this._injector,providers:r}),n.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,n,s){if(e instanceof t.Rgc){const r=this._createInjector(s,i,n,void 0);let l={$implicit:s.data,dialogRef:i};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),n.attachTemplatePortal(new _.UE(e,null,l,r))}else{const r=this._createInjector(s,i,n,this._injector),l=n.attachComponentPortal(new _.C5(e,s.viewContainerRef,r,s.componentFactoryResolver));i.componentInstance=l.instance}}_createInjector(e,i,n,s){const r=e.injector||e.viewContainerRef?.injector,l=[{provide:ft,useValue:e.data},{provide:B,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,n)):l.push(...e.providers)),e.direction&&(!r||!r.get(U.Is,null,t.XFs.Optional))&&l.push({provide:U.Is,useValue:{value:e.direction,change:(0,ut.of)()}}),t.zs3.create({parent:r||s,providers:l})}_removeOpenDialog(e,i){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let n=i.length-1;n>-1;n--){const s=i[n];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(h.aV),t.LFG(t.zs3),t.LFG(_t,8),t.LFG(a,12),t.LFG(h.Xj),t.LFG(V))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})();function R(a,o){let e=a.length;for(;e--;)o(a[e])}let Dt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[q,bt],imports:[h.U8,_.eL,f.rt,_.eL]}),a})();var yt=c(6451),M=c(9300),w=c(5698),g=c(7340);function Tt(a,o){}const T={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},At={dialogContainer:(0,g.X$)("dialogContainer",[(0,g.SB)("void, exit",(0,g.oB)({opacity:0,transform:"scale(0.7)"})),(0,g.SB)("enter",(0,g.oB)({transform:"none"})),(0,g.eR)("* => enter",(0,g.ru)([(0,g.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"none",opacity:1})),(0,g.IO)("@*",(0,g.pV)(),{optional:!0})]),T),(0,g.eR)("* => void, * => exit",(0,g.ru)([(0,g.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,g.oB)({opacity:0})),(0,g.IO)("@*",(0,g.pV)(),{optional:!0})]),T)])};class S{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=T.params.enterAnimationDuration,this.exitAnimationDuration=T.params.exitAnimationDuration}}let xt=(()=>{class a extends Q{constructor(e,i,n,s,r,l,d,C){super(e,i,n,s,r,l,d,C),this._animationStateChanged=new t.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.SBq),t.Y36(f.qV),t.Y36(u.K0,8),t.Y36(S),t.Y36(f.ic),t.Y36(t.R0b),t.Y36(h.Iu),t.Y36(f.tE))},a.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],features:[t.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),a})(),Pt=(()=>{class a extends xt{constructor(e,i,n,s,r,l,d,C,A){super(e,i,n,s,r,l,d,A),this._changeDetectorRef=C,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||T.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||T.params.exitAnimationDuration}}}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.SBq),t.Y36(f.qV),t.Y36(u.K0,8),t.Y36(S),t.Y36(f.ic),t.Y36(t.R0b),t.Y36(h.Iu),t.Y36(t.sBO),t.Y36(f.tE))},a.\u0275cmp=t.Xpm({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&t.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(t.Ikx("id",i._config.id),t.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),t.d8E("@dialogContainer",i._getAnimationState()))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&t.YNc(0,Tt,0,0,"ng-template",0)},dependencies:[_.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[At.dialogContainer]}}),a})();class L{constructor(o,e,i){this._ref=o,this._containerInstance=i,this._afterOpened=new b.x,this._beforeClosed=new b.x,this._state=0,this.disableClose=e.disableClose,this.id=o.id,i._animationStateChanged.pipe((0,M.h)(n=>"opened"===n.state),(0,w.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,M.h)(n=>"closed"===n.state),(0,w.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,yt.T)(this.backdropClick(),this.keydownEvents().pipe((0,M.h)(n=>n.keyCode===O.hY&&!this.disableClose&&!(0,O.Vb)(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),H(this,"keydown"===n.type?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe((0,M.h)(e=>"closing"===e.state),(0,w.q)(1)).subscribe(e=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let e=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?e.left(o.left):e.right(o.right):e.centerHorizontally(),o&&(o.top||o.bottom)?o.top?e.top(o.top):e.bottom(o.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",e=""){return this._ref.updateSize(o,e),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function H(a,o,e){return a._closeInteractionType=o,a.close(e)}const Ot=new t.OlP("MatDialogData"),It=new t.OlP("mat-dialog-default-options"),$=new t.OlP("mat-dialog-scroll-strategy"),St={provide:$,deps:[h.aV],useFactory:function Mt(a){return()=>a.scrollStrategies.block()}};let Lt=0,Ft=(()=>{class a{constructor(e,i,n,s,r,l,d,C,A,K){this._overlay=e,this._defaultOptions=n,this._parentDialog=s,this._dialogRefConstructor=d,this._dialogContainerType=C,this._dialogDataToken=A,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.x,this._afterOpenedAtThisLevel=new b.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,J.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,j.O)(void 0))),this._scrollStrategy=l,this._dialog=i.get(q)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let n;(i={...this._defaultOptions||new S,...i}).id=i.id||`${this._idPrefix}${Lt++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:S,useValue:i},{provide:I,useValue:i}]},templateContext:()=>({dialogRef:n}),providers:(r,l,d)=>(n=new this._dialogRefConstructor(r,i,d),n.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:n}])});return n.componentInstance=s.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{const r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return a.\u0275fac=function(e){t.$Z()},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})(),F=(()=>{class a extends Ft{constructor(e,i,n,s,r,l,d,C){super(e,i,s,l,d,r,L,Pt,Ot,C)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(h.aV),t.LFG(t.zs3),t.LFG(u.Ye,8),t.LFG(It,8),t.LFG($),t.LFG(a,12),t.LFG(h.Xj),t.LFG(t.QbO,8))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})(),kt=0,zt=(()=>{class a{constructor(e,i,n){this.dialogRef=e,this._elementRef=i,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=W(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){H(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(L,8),t.Y36(t.SBq),t.Y36(F))},a.\u0275dir=t.lG2({type:a,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&t.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&t.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[t.TTD]}),a})(),Bt=(()=>{class a{constructor(e,i,n){this._dialogRef=e,this._elementRef=i,this._dialog=n,this.id="mat-dialog-title-"+kt++}ngOnInit(){this._dialogRef||(this._dialogRef=W(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(L,8),t.Y36(t.SBq),t.Y36(F))},a.\u0275dir=t.lG2({type:a,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&t.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),a})(),Rt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=t.lG2({type:a,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),a})(),wt=(()=>{class a{constructor(){this.align="start"}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=t.lG2({type:a,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&t.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),a})();function W(a,o){let e=a.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?o.find(i=>i.id===e.id):null}let Zt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[F,St],imports:[Dt,h.U8,_.eL,D.BQ,D.BQ]}),a})();var X=c(9116);class Z{constructor(o){this.name=o}}var E=c(6242),Y=c(4144);function Et(a,o){1&a&&(t.TgZ(0,"div",9)(1,"span"),t._uU(2,"Failed to create, Try again"),t.qZA()())}function Yt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"In progress.."),t.qZA())}function Nt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"Create"),t.qZA())}let Gt=(()=>{class a{constructor(e,i){this.dialogRef=e,this.categoriesService=i,this.nameCtrl=new p.NI("",p.kI.required),this.inProgress=!1,this.hasError=!1}ngOnInit(){}create(){if(this.nameCtrl.invalid||this.inProgress)return;this.hasError=!1,this.inProgress=!0;const e=new Z(this.nameCtrl.value);this.categoriesService.create(e).subscribe({next:i=>{this.inProgress=!1,this.dialogRef.close(e)},error:i=>{this.hasError=!0,this.inProgress=!1}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(L),t.Y36(E.G))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-category"]],decls:14,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["matInput","",3,"formControl"],["class","text-danger fs-5",4,"ngIf"],["mat-dialog-actions","",1,"justify-content-end"],["mat-stroked-button","","color","accent","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-danger","fs-5"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"New Category"),t.qZA(),t.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.YNc(7,Et,3,0,"div",4),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return i.create()}),t.YNc(12,Yt,2,0,"span",8),t.YNc(13,Nt,2,0,"span",8),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("formControl",i.nameCtrl),t.xp6(1),t.Q6J("ngIf",i.hasError),t.xp6(4),t.Q6J("disabled",i.nameCtrl.invalid||i.inProgress),t.xp6(1),t.Q6J("ngIf",i.inProgress),t.xp6(1),t.Q6J("ngIf",!i.inProgress))},dependencies:[u.O5,p.Fj,p.JJ,p.oH,v.KE,v.hX,Y.Nt,zt,Bt,Rt,wt,x.lW]}),a})();var Jt=c(4598),Ut=c(3336),jt=c(4004),Qt=c(8179),Vt=c(4245),qt=c(1572);function Ht(a,o){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"this field is required"),t.qZA())}function $t(a,o){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"this name is already exist"),t.qZA())}function Wt(a,o){if(1&a&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&a){const e=o.ngIf;t.xp6(1),t.hij(" ",e," ")}}function Xt(a,o){1&a&&(t._UZ(0,"mat-spinner",20),t.TgZ(1,"span"),t._uU(2," loading.. "),t.qZA()),2&a&&t.Q6J("diameter",24)}function Kt(a,o){1&a&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner",22),t.TgZ(2,"span"),t._uU(3,"checking name.."),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("diameter",24)("strokeWidth",3))}let te=(()=>{class a{constructor(e,i,n){this.categoriesService=i,this.booksService=n,this.category=new Z(""),this.form=e.group({name:["",p.kI.required]}),this.update=new t.vpe,this.inProgress=!1}set Category(e){this.category=e||new Z(""),this.form.reset(),this.form.patchValue(this.category),e&&(this.booksCount$=this.booksService.getCount((0,Qt.ar)("categoryId","==",this.category.id)).pipe((0,jt.U)(i=>i.toString())))}ngOnInit(){}save(e){if(this.form.invalid||this.inProgress)return;const i={...this.category,...this.form.value};this.inProgress=!0,this.categoriesService.getList(n=>n.where("name","==",i.name)).subscribe({next:n=>{if(n.length)return this.form.controls.name.setErrors({duplicatedName:!0}),void this.form.markAllAsTouched();this.update.emit(i),this.form.reset(),e.click(),this.inProgress=!1},error:n=>{this.inProgress=!1}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.qu),t.Y36(E.G),t.Y36(Vt.y))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-category-details"]],inputs:{Category:["category","Category"]},outputs:{update:"update"},decls:29,vars:9,consts:[["id","categoryDetailsModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["appearance","outline"],["matInput","","formControlName","name"],[4,"ngIf"],[1,"d-flex","align-items-center","gap-1"],["class","fw-bold",4,"ngIf","ngIfElse"],["loading",""],[1,"modal-footer"],["class","d-flex gap-1 me-auto",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary"],["closeBtn",""],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fw-bold"],[3,"diameter"],[1,"d-flex","gap-1","me-auto"],[3,"diameter","strokeWidth"]],template:function(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Category Details"),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6)(8,"form",7)(9,"mat-form-field",8)(10,"mat-label"),t._uU(11,"Name"),t.qZA(),t._UZ(12,"input",9),t.YNc(13,Ht,2,0,"mat-error",10),t.YNc(14,$t,2,0,"mat-error",10),t.qZA()(),t.TgZ(15,"p",11)(16,"span"),t._uU(17,"Books count:"),t.qZA(),t.YNc(18,Wt,2,1,"span",12),t.ALo(19,"async"),t.YNc(20,Xt,3,1,"ng-template",null,13,t.W1O),t.qZA()(),t.TgZ(22,"div",14),t.YNc(23,Kt,4,2,"div",15),t.TgZ(24,"button",16,17),t._uU(26,"Cancel"),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){t.CHM(n);const r=t.MAs(25);return t.KtG(i.save(r))}),t._uU(28,"Save"),t.qZA()()()()()}if(2&e){const n=t.MAs(21);t.xp6(8),t.Q6J("formGroup",i.form),t.xp6(5),t.Q6J("ngIf",i.form.controls.name.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.form.controls.name.hasError("duplicatedName")),t.xp6(4),t.Q6J("ngIf",t.lcZ(19,7,i.booksCount$))("ngIfElse",n),t.xp6(5),t.Q6J("ngIf",i.inProgress),t.xp6(4),t.Q6J("disabled",i.inProgress||i.form.invalid)}},dependencies:[u.O5,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,v.TO,v.KE,v.hX,Y.Nt,qt.Ou,u.Ov]}),a})();function ee(a,o){1&a&&(t.TgZ(0,"th",13),t._uU(1," Name "),t.qZA())}function ie(a,o){if(1&a&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ae(a,o){1&a&&(t.TgZ(0,"th",13),t._uU(1," Options "),t.qZA())}function oe(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"td",14)(1,"button",15),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.selectedCategory=s)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.delete(s))}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA()()()}}function ne(a,o){1&a&&t._UZ(0,"tr",17)}function se(a,o){1&a&&t._UZ(0,"tr",18)}const re=[{path:"",component:(()=>{class a{constructor(e,i){this.categoriesService=e,this.dialog=i,this.displayedColumns=["name","options"],this.count=0,this.list=[],this.pageIndex=0,this.pageSize=10,this.isLoading=!0,this.hasError=!1,this.hasData=!1}ngOnDestroy(){this.getListSubscription.unsubscribe(),this.countSubscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.updateSubscription&&this.updateSubscription.unsubscribe()}ngOnInit(){this.get(e=>e.orderBy("id").limit(this.pageSize)),this.countSubscription=this.categoriesService.getCount().subscribe(e=>{this.count=e})}get(e){this.isLoading=!0,this.hasError=!1,this.getListSubscription&&this.getListSubscription.unsubscribe(),this.getListSubscription=this.categoriesService.getList(e).subscribe({next:i=>{this.list=i,this.hasError=!1,this.isLoading=!1,this.hasData=i.length>0},error:i=>{this.hasError=!0,this.isLoading=!1}})}nextPage(){const e=this.list[this.list.length-1];this.get(i=>i.orderBy("id").startAfter(e.id).limit(this.pageSize))}prevPage(){const e=this.list[0];this.get(i=>i.orderBy("id").endBefore(e.id).limitToLast(this.pageSize))}changePage(e){this.pageIndex<e.pageIndex?this.nextPage():this.prevPage(),this.pageIndex=e.pageIndex}delete(e){1==this.list.length&&(this.pageIndex=0,this.get(i=>i.orderBy("id").limit(this.pageSize))),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.deleteSubscription=this.categoriesService.delete(e.id).subscribe(i=>{this.count--})}update(e){this.updateSubscription&&this.updateSubscription.unsubscribe(),this.updateSubscription=this.categoriesService.update(e).subscribe()}add(){this.dialog.open(Gt,{width:"300px",disableClose:!0}).afterClosed().subscribe(i=>{!i||this.count++})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(E.G),t.Y36(F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-categories-list"]],decls:18,vars:10,consts:[[1,"d-flex","align-items-center","mb-3"],["mat-raised-button","","color","primary",1,"ms-auto",3,"click"],[3,"isLoading","hasError","hasData"],[1,"mat-elevation-z8"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","options"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","page"],[3,"category","update"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","matTooltip","Edit","type","button","color","primary","data-bs-toggle","modal","data-bs-target","#categoryDetailsModal",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Categories"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.add()}),t._uU(4,"+ New Category"),t.qZA()(),t.TgZ(5,"app-list-preload",2)(6,"div",3)(7,"table",4),t.ynx(8,5),t.YNc(9,ee,2,0,"th",6),t.YNc(10,ie,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,ae,2,0,"th",6),t.YNc(13,oe,7,0,"td",7),t.BQk(),t.YNc(14,ne,1,0,"tr",9),t.YNc(15,se,1,0,"tr",10),t.qZA(),t.TgZ(16,"mat-paginator",11),t.NdJ("page",function(s){return i.changePage(s)}),t.qZA()()(),t.TgZ(17,"app-category-details",12),t.NdJ("update",function(s){return i.update(s)}),t.qZA()),2&e&&(t.xp6(5),t.Q6J("isLoading",i.isLoading)("hasError",i.hasError)("hasData",i.hasData),t.xp6(2),t.Q6J("dataSource",i.list),t.xp6(7),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.count)("pageIndex",i.pageIndex)("pageSize",i.pageSize),t.xp6(1),t.Q6J("category",i.selectedCategory))},dependencies:[m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,pt,Jt.r,Ut.Hw,x.lW,k.gM,te]}),a})()}];let le=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[X.Bz.forChild(re),X.Bz]}),a})();var ce=c(4466);let de=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,le,m.p0,ht,p.u5,p.UX,v.lN,Y.c,Zt,ce.m]}),a})()}}]);